/*
* generated by Xtext
*/
package org.eclipse.emf.mwe2.language.ui.outline;

import org.eclipse.emf.mwe2.language.mwe2.Assignment;
import org.eclipse.emf.mwe2.language.mwe2.BooleanLiteral;
import org.eclipse.emf.mwe2.language.mwe2.DeclaredProperty;
import org.eclipse.emf.mwe2.language.mwe2.Module;
import org.eclipse.emf.mwe2.language.mwe2.Mwe2Package;
import org.eclipse.emf.mwe2.language.mwe2.Reference;
import org.eclipse.emf.mwe2.language.mwe2.StringLiteral;
import org.eclipse.swt.graphics.Image;
import org.eclipse.xtext.ui.IImageHelper;
import org.eclipse.xtext.ui.editor.outline.IOutlineNode;
import org.eclipse.xtext.ui.editor.outline.impl.DefaultOutlineTreeProvider;
import org.eclipse.xtext.ui.editor.outline.impl.DocumentRootNode;
import org.eclipse.xtext.ui.editor.outline.impl.EReferenceNode;

import com.google.inject.Inject;

/**
 * customization of the default outline structure
 * 
 */
public class Mwe2OutlineTreeProvider extends DefaultOutlineTreeProvider {

	@Inject
	private IImageHelper imageHelper;

	protected void doCreateChildren(DocumentRootNode parentNode, Module module) {
		new EReferenceNode(module, Mwe2Package.Literals.MODULE__IMPORTS, parentNode,
				imageHelper.getImage("impc_obj.gif"), "import declarations", module.getImports().isEmpty());
		new EReferenceNode(module, Mwe2Package.Literals.MODULE__DECLARED_PROPERTIES, parentNode,
				imageHelper.getImage("settings_obj.gif"), "property declarations", module.getDeclaredProperties()
						.isEmpty());
		if (module.getRoot() != null)
			createNode(parentNode, module.getRoot());
	}

	protected void doCreateChildren(IOutlineNode parentNode, Reference reference) {
	}

	protected void doCreateChildren(IOutlineNode parentNode, BooleanLiteral booleanLiteral) {
	}

	protected void doCreateChildren(IOutlineNode parentNode, StringLiteral stringLiteral) {
	}

	protected Image image(Assignment ass) {
		return labelProvider.getImage(ass.getValue());
	}

	public Image image(DeclaredProperty prop) {
		return labelProvider.getImage(prop.getDefault());
	}
}
